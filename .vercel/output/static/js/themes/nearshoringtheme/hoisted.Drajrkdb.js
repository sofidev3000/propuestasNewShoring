import"https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js";import"https://code.iconify.design/iconify-icon/2.0.0/iconify-icon.min.js";function y(e){console.log(e);var a=e.dataset.service,r=e.dataset.serviceAction,t=e.dataset.plugin,n=e.querySelector('input[name="__RequestVerificationToken"]'),o=e.querySelector('[data-form-belong="form-send__result"]');if(a!==null&&typeof a<"u"&&a!==""&&r!==null&&typeof r<"u"&&r!==""&&t!==null&&typeof t<"u"&&t!==""){var f={PluginName:t,ServiceName:a,ServiceAction:r,AssociateIdentifier:e.dataset.associate,BodyData:L(e,["__RequestVerificationToken"]),DataContext:null},i=e.method;let l=e.dataset.action;const m=new URL(window.location.href),s=new URLSearchParams(m.search);s.get("test")&&(l=`${l}?${s.toString()}`);var d={};n?d={"Content-Type":"application/json",RequestVerificationToken:n.value}:d={"Content-Type":"application/json"},fetch(l,{method:i,headers:d,body:JSON.stringify(f)}).then(c=>{if(!c.ok)throw new Error("Error al enviar el formulario");return c.json()}).then(c=>{if(c.status==200)e.dataset.redirect!=null?window.location.href=e.dataset.redirect:(o.innerHTML=c.result,o.className="",o.classList.add("w-full","p-3","border-2","border-green-500","bg-[#13D40A]","text-white","transition-opacity","duration-300","opacity-100","block"));else throw new Error(c.message)}).catch(c=>{o.innerHTML=c,o.className="",o.classList.add("w-full","p-3","border-2","border-red-500","bg-[#DE0000]","text-white","transition-opacity","duration-300","opacity-100","block"),console.log(c)}).finally(()=>{e.reset(),setTimeout(()=>{o.classList.remove("opacity-100"),o.classList.add("opacity-0"),setTimeout(()=>{o.className="",o.classList.add("w-full","hidden"),o.innerHTML=""},300)},1e4)})}}function L(e,a){for(var r={},t=0;t<e.elements.length;t++){var n=e.elements[t];n.name&&a.indexOf(n.name)===-1&&(r[n.name]=n.value)}return r}const S="https://unpkg.com/aos@next/dist/aos.js";function E(e,a=!1,r){const t=document.createElement("script");t.src=e,t.defer=a,t.onload=r,document.body.appendChild(t)}function w(){E(S,!0,()=>{k()})}function k(){AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:110,delay:0,duration:1100,easing:"ease",once:!0,mirror:!1,anchorPlacement:"top-bottom"})}function A(e){var a=document,r=D(),t=[].slice.call(a.querySelectorAll(".lazy"));if("IntersectionObserver"in window){let f=new IntersectionObserver(function(i,d){i.forEach(function(l){if(l.isIntersecting){let s=l.target;if(s.dataset.src)if(s.dataset.bg!=null)s.style.backgroundImage=B(s,r),s.removeAttribute("data-bg"),s.removeAttribute("data-webp-bg"),s.removeAttribute("data-bg-srcset"),s.removeAttribute("data-webp-bg-srcset"),s.classList.add(s.dataset.loaded),s.classList.remove("lazy");else{s.src=v(s.dataset.src,s.dataset.webpSrc,r);var m=C(s.dataset.srcset,s.dataset.webpSrcset,r);m!=""&&m!=null&&(s.srcset=m),s.removeAttribute("data-src"),s.removeAttribute("data-webp-src"),s.removeAttribute("data-srcset"),s.removeAttribute("data-webp-srcset"),s.classList.add(s.dataset.loaded),q(s),s.classList.remove("lazy"),f.unobserve(s)}}})});t.forEach(function(i){f.observe(i)})}else{var t=[].slice.call(document.querySelectorAll(".lazy")),n={},o={};t.forEach(function(i){var d=!1;for(let l in n)if(l==i.dataset.loaded){d=!0;break}d||(n[i.dataset.loaded]=[]),n[i.dataset.loaded].push(i)});for(let i in n)o[i]=new LazyLoad({class_loaded:i},n[i])}}function q(e){var a=e.previousElementSibling,r=e.parentElement;r.classList,a!=null&&a.classList.contains("loader-icon")&&a.classList.add("loader-icon--hidden")}function C(e,a="",r){if(r){if(a==""&&a==null)var t=e;else var t=a;return t}return e}function v(e,a="",r){if(r){if(a==""||a==null)var t=e;else var t=a;return t}return e}function D(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")?e.toDataURL("image/webp").indexOf("data:image/webp")==0:!1}function B(e,a){if(e.dataset.bgSrcset!=null){var r=e.dataset.bgSrcset,t=e.dataset.webpBgSrcset;if(a)if(t==""||t==null)var n=r.split(",");else var n=t.split(",");else var n=r.split(",");return M(v(e.dataset.bg,e.dataset.webpBg,a),n)}else return"url('"+v(e.dataset.bg,e.dataset.webpBg,a)+"')"}function M(e,a){for(var r="",t=0;t<a.length;t++){var n=a[t].split("|");if(parseInt(n[1])<=document.querySelector("html").clientWidth){r="url('"+n[0]+"')";break}}if(r=="")for(var o=a.reverse(),t=0;t<o.length;t++){var n=o[t].split("|");if(document.querySelector("html").clientWidth<=parseInt(n[1])){r="url('"+n[0]+"')";break}}return r==""&&(r="url('"+e+"')"),r}document.addEventListener("DOMContentLoaded",function(){A(),w(),document.querySelectorAll(".form-send").forEach(a=>{a.addEventListener("submit",function(r){r.preventDefault(),y(this)})})});const g=document,O=g.getElementById("suscribe-btn"),h=g.getElementById("suscribe-modal"),b=g.getElementById("close-modal");O.addEventListener("click",e=>{console.log("ver modal"),h.showModal()});b&&b.addEventListener("click",e=>{h.close()});const u=document;function T(e,a,r,t){u.addEventListener("click",n=>{(n.target.matches(e)||n.target.matches(`${e} *`))&&(u.querySelector(e).classList.toggle("is-active"),u.querySelector(a).classList.toggle("is-active")),(n.target.matches(r)||n.target.matches(t))&&u.querySelector(a).classList.remove("is-active"),n.target.matches(t)&&u.querySelector(a).classList.remove("is-active")})}u.addEventListener("DOMContentLoaded",e=>{T(".hamburger",".panel",".header__link",".dropdown__item")});const p=typeof localStorage<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark");window.localStorage.setItem("theme",p);const x=()=>{const a=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",a?"dark":"light");const r=new CustomEvent("themeChange",{detail:{isDark:a}});window.dispatchEvent(r)};document.querySelectorAll("#themeToggle").forEach(e=>e.addEventListener("click",x));function P(e){const a=e.querySelector("#email"),r=e.querySelector("#terms"),t={};return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value)||(t.email="Por favor, ingresa un correo electrónico válido."),r.checked||(t.terms="Por favor, acepta los términos y condiciones."),t}function I(e){const a=e.querySelectorAll("#email, #terms"),r=document.getElementById("email-error"),t=document.getElementById("terms-error");a&&a.forEach(n=>{n.addEventListener("blur",function(){const o=P(e);r.textContent=o.email||"",r.classList.toggle("hidden",!o.email),t.textContent=o.terms||"",t.classList.toggle("hidden",!o.terms)})})}const N=document.querySelectorAll(".subscribe-form")||[];N.forEach(e=>{I(e)});
